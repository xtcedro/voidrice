# Use neovim for vim if present.
[ -x "$(command -v nvim)" ] && alias vim="nvim" vimdiff="nvim -d"

alias rns="sudo systemctl reload nginx"

# Use $XINITRC variable if file exists.
[ -f "$XINITRC" ] && alias startx="startx $XINITRC"

# Use custom mbsync configuration if present.
[ -f "$MBSYNCRC" ] && alias mbsync="mbsync -c $MBSYNCRC"

# sudo aliases for system commands
for cmd in mount umount sv pacman updatedb su shutdown poweroff reboot; do
    alias $cmd="sudo $cmd"
done

# Verbose and safe commands
alias \
    cp="cp -iv" \
    mv="mv -iv" \
    rm="rm -vI" \
    mkd="mkdir -pv" \
    bc="bc -ql" \
    rsync="rsync -vrPlu" \
    ffmpeg="ffmpeg -hide_banner"

# Colorized commands
alias \
    ls="ls -hN --color=auto --group-directories-first" \
    grep="grep --color=auto" \
    diff="diff --color=auto" \
    l="ls -cFlah" \

# Simplified common commands
alias \
    g="git" \
    ka="killall" \
    e="$EDITOR" \
    v="$EDITOR" \
    p="pip install" \
    z="zathura" \
	rns="sudo systemctl reload nginx" \

# Git workflow
alias \
    ga="git add ." \
    gc="git commit -m" \
    gp="git push origin" \
    gm="git merge"

# SSH with hardcoded IPs
alias \
    ply="cd && ssh -i keys/Milagros.pem admin@ec2-54-235-226-132.compute-1.amazonaws.com" \
    dts="cd && ssh -i keys/Milagros.pem admin@ec2-54-162-183-206.compute-1.amazonaws.com" \
    okd="cd && ssh -i keys/Milagros.pem admin@52.91.94.161" \
    hrc="cd && ssh -i keys/Milagros.pem admin@54.226.117.192"

# Dynamic SSH function
ssh_server() {
    ssh -i keys/Milagros.pem admin@"$1"
}

# Dynamic Git cloning function
clone_repo() {
    git clone git@github.com:xtcedro/"$1".git
}

# Hardcoded aliases using clone_repo function
alias \
    void="clone_repo voidrice"  \
    tech="clone_repo DominguezTS" \
    gran="clone_repo granite-company" \
    okde="clone_repo okdevs" \
    tire="clone_repo tire-shop" \
    roof="clone_repo roofing-company"

# Update commands
dtsupdate() {
    cd $TMP && clone_repo DominguezTS && \
    rm -rf $ROOT/public/* && cp -r DominguezTS/public/* $ROOT/public/ && \
	mv $ROOT/public/pages/home/* $ROOT/public/  && \
	mv $ROOT/public/pages/legal/* $ROOT/public/  && \
	mv $ROOT/public/pages/about/* $ROOT/public/  && \
	mv $ROOT/public/pages/services/* $ROOT/public/  && \
	mv $ROOT/public/pages/dashboard/* $ROOT/public/  && \
	mv $ROOT/public/pages/gallery/* $ROOT/public/  && \
	mv $ROOT/public/pages/contact/* $ROOT/public/  && \
	mv $ROOT/public/pages/authentication/* $ROOT/public/  && \
	mv $ROOT/public/pages/appointments/* $ROOT/public/  && \
	rm -rf DominguezTS && cd
}


okdupdate() {
    cd $TMP && clone_repo okdevs && \
    rm -rf $ROOT/public/* && cp -r okdevs/public/* $ROOT/public/ && \
	mv $ROOT/public/pages/home/* $ROOT/public/  && \
	mv $ROOT/public/pages/legal/* $ROOT/public/  && \
	mv $ROOT/public/pages/about/* $ROOT/public/  && \
	mv $ROOT/public/pages/services/* $ROOT/public/  && \
	mv $ROOT/public/pages/dashboard/* $ROOT/public/  && \
	mv $ROOT/public/pages/gallery/* $ROOT/public/  && \
	mv $ROOT/public/pages/contact/* $ROOT/public/  && \
	mv $ROOT/public/pages/authentication/* $ROOT/public/  && \
	mv $ROOT/public/pages/appointments/* $ROOT/public/  && \
	rm -rf okdevs && cd
}

hrcupdate() {
    cd $TMP && clone_repo roofing-company && \
    rm -rf $ROOT/public/* && cp -r roofing-company/public/* $ROOT/public/ && \
	mv $ROOT/public/pages/home/* $ROOT/public/  && \
	mv $ROOT/public/pages/legal/* $ROOT/public/  && \
	mv $ROOT/public/pages/about/* $ROOT/public/  && \
	mv $ROOT/public/pages/services/* $ROOT/public/  && \
	mv $ROOT/public/pages/dashboard/* $ROOT/public/  && \
	mv $ROOT/public/pages/gallery/* $ROOT/public/  && \
	mv $ROOT/public/pages/contact/* $ROOT/public/  && \
	mv $ROOT/public/pages/authentication/* $ROOT/public/  && \
	mv $ROOT/public/pages/appointments/* $ROOT/public/  && \
	rm -rf roofing-company && cd
}

voidupdate() {
    rm -rf ~/.config ~/.local && cd $TMP && \
    clone_repo voidrice && \
    cp -r voidrice/.local ~/. && cp -r voidrice/.config ~/. && \
    rm -rf voidrice && cd
}

# Search and edit scripts
se() {
    choice="$(find ~/.local/bin -mindepth 1 -printf '%P\n' | fzf)"
    [ -f "$HOME/.local/bin/$choice" ] && $EDITOR "$HOME/.local/bin/$choice"
}

# Help command to list custom aliases
alias help="alias | grep -E 'git|ssh|update|yt|killall'"
